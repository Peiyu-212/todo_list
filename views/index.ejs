<%- include('header.ejs')  %>
    <div class="container py-5 h-100">
      <!-- App title section -->
      <div class="row m-1 p-4">
        <div class="col">
            <div class="text-center mx-auto display-inline-block today-date">
              <h1 style="color: #fff; margin-inline: 5% 10%;"> <%= today %></h1>
            </div>
        </div>
      </div>
      <form action="/add" method="POST">
        <div class="card">
          <div class="card-body">
            <div class="d-flex align-items-center">
              <input class="form-control form-control-lg bg-transparent rounded" type="text" name="task" placeholder="Add new ..">
              <input type="date" name="date" class="col-auto date-choose px-2 mx-2"> 
              <button type="submit" class="btn btn-primary px-2">Add</button>
            </div>
          </div>
        </div>
        <hr />
        <div class="box">
          <ul class="list-group ">
          <% if (locals.todoList) { %>
            <% for (let i=0; i<todoList.length; i++) { %>
              <li class="list-group-item d-flex justify-content-between align-items-start">
                <div class="ms-2 me-auto">
                  <div class="fw-bold"><input class="form-check-input strike me-1" type="checkbox" value='' name="item_<%= i %>">
                  <lable class='strikeList'><%= todoList[i]['task'] %></lable></div>
                </div>
                <span class="badge rounded-pill bg-warning text-dark"><%= todoList[i]['date'] %></span>
              </li>
              <% } %>
          <% } %>
          </ul>
        </div>
      </form>
      
            

<%- include('footer.ejs') %>